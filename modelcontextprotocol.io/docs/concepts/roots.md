# Roots（根）

理解MCP中的根概念

根是MCP中定义服务器可以操作边界的一个概念。它为客户端提供了一种方式来告知服务器相关资源及其位置。

## 什么是根？

根是客户端建议服务器应该关注的URI。当客户端连接到服务器时，它会声明服务器应该使用哪些根。虽然主要用于文件系统路径，但根可以是任何有效的URI，包括HTTP URL。

例如，根可以是：

```
file:///home/user/projects/myapp
https://api.example.com/v1
```

## 为什么使用根？

根服务于几个重要目的：

1. **指导**：它们告知服务器相关资源和位置
2. **清晰**：根明确指出哪些资源是工作空间的一部分
3. **组织**：多个根让你可以同时处理不同的资源

## 根是如何工作的

当客户端支持根时，它会：

1. 在连接期间声明`roots`能力
2. 向服务器提供建议的根列表
3. 当根发生变化时通知服务器（如果支持）

虽然根是信息性的而不是严格执行的，但服务器应该：

1. 尊重提供的根
2. 使用根URI来定位和访问资源
3. 优先考虑根边界内的操作

## 常见用例

根通常用于定义：

* 项目目录
* 仓库位置
* API端点
* 配置位置
* 资源边界

## 最佳实践

在使用根时：

1. 只建议必要的资源
2. 为根使用清晰、描述性的名称
3. 监控根的可访问性
4. 优雅地处理根的变化

## 示例

以下是典型的MCP客户端如何暴露根：

```json
{
  "roots": [
    {
      "uri": "file:///home/user/projects/frontend",
      "name": "Frontend Repository"
    },
    {
      "uri": "https://api.example.com/v1",
      "name": "API Endpoint"
    }
  ]
}
```

这个配置建议服务器同时关注本地仓库和API端点，同时保持它们在逻辑上的分离。 